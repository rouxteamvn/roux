<html>
<head>
<title>Roux or something</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>
<div class="w3-container">
<div class="w3-bar w3-border w3-light-grey">
  <a href="index.html" class="w3-bar-item w3-button w3-hover-yellow">Home</a>
  <a href="cmll.html" class="w3-bar-item w3-button w3-hover-green">CMLL algs</a>
  <a href="timer.html" class="w3-bar-item w3-button w3-hover-blue">CMLL trainers</a>
  <a href="#" class="w3-bar-item w3-button w3-hover-red">Coming soon</a>
</div>
</div>
<title>CMLL Trainer</title>
<style>
html,body{margin:0}
td{text-align:center}
body {background-color:pink}
input[type="text"]{text-align:center;background-color:pink;color: solid black;border:0;font-weight:bold;font-size:25px}
div{text-align:center}
span{text-align:center;padding:4px}
</style>
<script src="/s/t.js" type="text/javascript" async></script>
</head>
<body>
<div>			
<form id="timer" name="timer" method="post" action="/timer.html">
<input type="text" name="time" size="6" value="0.00" readonly="readonly"><br>
<input type="text" name="now" id="now" value="Bắt đầu"><br>
</form>
</div>
<script>
var a = null;
var b = null;
var nop = 0;
var ready = 0;
var now;

function Now()
{
  now = document.getElementById("now").value;
  if ( now == 'YO')
  {
    b = new Date();
    var tmp = b.getTime() - a.getTime();
    a.setTime(tmp);
    var s = a.getSeconds();
    var ms = Math.floor(a.getMilliseconds() / 10);
    if ( ms < 10 )
    {
      ms = "0" + ms;
    }
    document.timer.time.value = s + "." + ms;
    document.getElementById("now").value = "Tiếp theo";
  }
  else
  {
    a = new Date();
    document.timer.time.value = "";
    document.getElementById("now").value = "YO";
  }
}
document.onkeyup=function(k)
{
  if ( k.which == 32 )
  {
    if ( nop == 1 )
    {
      nop = 0;
    }
    else
    {
      now = document.getElementById("now").value;
      if ( now == 'Bắt đầu' || now == 'Chuẩn bị' )
      {
        Now();
      }
    }
  }
}
document.onkeydown=function(k)
{
  if ( k.which == 32 )
  {
    now = document.getElementById("now").value;
    if ( now == 'YO' )
    {
      Now();
      nop = 1;
    }
    else if ( now == 'Tiếp theo' )
    {
      document.getElementById("timer").submit();
    }
    else
    {
      document.timer.time.value = "";
      document.getElementById("now").value = "Chuẩn bị";
    }
  }
}
</script>
</body>
</html>
